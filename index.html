<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronofinance Portal</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        /* Simple scrollbar for aesthetics */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Hide pages by default */
        .page {
            display: none;
        }
        /* Show the active page */
        .page.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans antialiased">

    <!-- Main Application Container -->
    <div id="app-container" class="min-h-screen">

        <!-- Header / Navigation -->
        <header class="bg-white shadow-md sticky top-0 z-40">
            <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo / Home Link -->
                    <div class="flex-shrink-0 flex items-center">
                        <!-- **** CHANGED APP NAME HERE **** -->
                        <a href="#" onclick="showPage('page-home'); return false;" class="text-2xl font-bold text-blue-600">
                            Chronofinance
                        </a>
                    </div>
                    <!-- Profile Button -->
                    <div class_="">
                        <button id="profile-button" class="flex items-center text-sm rounded-full text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            <span class="font-medium mr-2 hidden sm:inline" id="profile-name-short">Jane Doe</span>
                            <img class="h-8 w-8 rounded-full" src="https://placehold.co/100x100/EBF4FF/76A9FA?text=JD" alt="User profile picture">
                        </button>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Main Content Area -->
        <main class="container mx-auto p-4 sm:p-6 lg:p-8">

            <!-- PAGE: Home (Default View) -->
            <div id="page-home" class="page active">
                <div class="text-center">
                     <!-- **** CHANGED APP NAME HERE **** -->
                    <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 mb-4">Welcome to Chronofinance</h1>
                    <p class="text-lg sm:text-xl text-gray-600 mb-12">Connecting Investors, Land Owners, and Contractors.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                    <!-- Investor Button -->
                    <button onclick="showPage('page-projects-list')" class="role-card bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 text-center group">
                        <svg class="w-16 h-16 mx-auto mb-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path></svg>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">Investor</h2>
                        <p class="text-gray-600 group-hover:text-blue-600 transition-colors">Browse and invest in promising construction projects.</p>
                    </button>
                    <!-- Land Owner Button -->
                    <button onclick="showPage('page-land-owner-form')" class="role-card bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 text-center group">
                        <svg class="w-16 h-16 mx-auto mb-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4l.293-.293a1 1 0 011.414 0l.293.293V19.5a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1.5z"></path></svg>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">Land Owner</h2>
                        <p class="text-gray-600 group-hover:text-green-600 transition-colors">List your land and partner with top construction firms.</p>
                    </button>
                    <!-- Contractor Button -->
                    <button onclick="showPage('page-land-list')" class="role-card bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 text-center group">
                        <svg class="w-16 h-16 mx-auto mb-4 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 21h6m-6 0H3.343a1 1 0 01-1-1.414l1.414-1.414A1 1 0 014.172 17H12M9 21V7.83a1 1 0 01.42-.8l5.292-3.968a1 1 0 011.576.8V17m-8 4v-5m0 5H3m0 0h6m-6 0V7.83m0 13.17V17m-8 4h18a1 1 0 001-1v-3.343a1 1 0 00-.586-.914l-3.968-2.09a1 1 0 00-1.09.217L12 17H4.172a1 1 0 01-.707-.293l-1.414-1.414A1 1 0 001 13.657V9a1 1 0 011-1h1.172a1 1 0 01.707.293l1.414 1.414a1 1 0 00.707.293H12m0 0V3.121a1 1 0 01.879-.98l4-1a1 1 0 011.121.98V7m-8 10h.01M12 3h.01M12 7h.01"></path></svg>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">Contractor</h2>
                        <p class="text-gray-600 group-hover:text-yellow-600 transition-colors">Discover land opportunities and submit proposals.</p>
                    </button>
                </div>
            </div>

            <!-- PAGE: Investor - Projects List -->
            <div id="page-projects-list" class="page">
                <button onclick="showPage('page-home')" class="mb-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    &larr; Back to Home
                </button>
                <h1 class="text-3xl font-bold text-gray-900 mb-6">Available Investment Projects</h1>
                <div id="projects-list-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Project cards will be injected here by JavaScript -->
                </div>
            </div>

            <!-- PAGE: Investor - Project Details -->
            <div id="page-project-details" class="page">
                <button onclick="showPage('page-projects-list')" class="mb-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    &larr; Back to Projects
                </button>
                <div id="project-details-content" class="bg-white p-6 sm:p-8 rounded-lg shadow-lg">
                    <!-- Project details will be injected here by JavaScript -->
                </div>
            </div>

            <!-- PAGE: Land Owner - Form -->
            <div id="page-land-owner-form" class="page">
                <button onclick="showPage('page-home')" class="mb-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                    &larr; Back to Home
                </button>
                <h1 class="text-3xl font-bold text-gray-900 mb-6">List Your Land</h1>
                <p class="text-gray-600 mb-6">Provide your details to connect with construction partners.</p>
                <form id="land-owner-form" class="bg-white p-6 sm:p-8 rounded-lg shadow-lg space-y-6">
                    <!-- Personal Information -->
                    <fieldset class="border-b border-gray-200 pb-6">
                        <legend class="text-lg font-medium text-gray-900">Personal Information</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div>
                                <label for="lo-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input type="text" id="lo-name" name="name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div>
                                <label for="lo-dob" class="block text-sm font-medium text-gray-700">Date of Birth</label>
                                <input type="date" id="lo-dob" name="dob" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div>
                                <label for="lo-email" class="block text-sm font-medium text-gray-700">Email ID</label>
                                <input type="email" id="lo-email" name="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div>
                                <label for="lo-phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                                <input type="tel" id="lo-phone" name="phone" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                        </div>
                    </fieldset>
                    
                    <!-- ID & Verification -->
                    <fieldset class="border-b border-gray-200 pb-6">
                        <legend class="text-lg font-medium text-gray-900">Identity &amp; Verification</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div>
                                <label for="lo-aadhaar" class="block text-sm font-medium text-gray-700">Aadhaar Card Number</label>
                                <input type="text" id="lo-aadhaar" name="aadhaar" pattern="\d{12}" title="12 digit Aadhaar number" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div>
                                <label for="lo-pan" class="block text-sm font-medium text-gray-700">PAN Card Number</label>
                                <input type="text" id="lo-pan" name="pan" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" title="Valid PAN format" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                        </div>
                    </fieldset>

                    <!-- Land Details -->
                    <fieldset class="border-b border-gray-200 pb-6">
                        <legend class="text-lg font-medium text-gray-900">Land Details</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div class="md:col-span-2">
                                <label for="lo-location" class="block text-sm font-medium text-gray-700">Location (Full Address)</label>
                                <input type="text" id="lo-location" name="location" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div>
                                <label for="lo-rera" class="block text-sm font-medium text-gray-700">RERA Number (if applicable)</label>
                                <input type="text" id="lo-rera" name="rera" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div>
                                <label for="lo-land-size" class="block text-sm font-medium text-gray-700">Land Size (in sq. ft. or acres)</label>
                                <input type="text" id="lo-land-size" name="land-size" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                            </div>
                            <div class="md:col-span-2">
                                <label for="lo-land-images" class="block text-sm font-medium text-gray-700">Images of the Land (Upload)</label>
                                <input type="file" id="lo-land-images" name="land-images" multiple accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                            </div>
                            <div class="md:col-span-2">
                                <label for="lo-land-documents" class="block text-sm font-medium text-gray-700">Land Documents (PDF, JPG, PNG)</label>
                                <input type="file" id="lo-land-documents" name="land-documents" multiple accept=".pdf,.jpg,.jpeg,.png" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                            </div>
                        </div>
                    </fieldset>

                    <!-- Partner Preference -->
                    <fieldset>
                        <legend class="text-lg font-medium text-gray-900">Partner Preference</legend>
                        <p class="text-sm text-gray-600">Choose construction companies you'd like to partner with (Optional).</p>
                        <div id="partner-options-list" class="mt-4 space-y-4 max-h-60 overflow-y-auto border border-gray-200 rounded-md p-4">
                            <!-- Partner options will be injected here by JavaScript -->
                        </div>
                    </fieldset>

                    <!-- Form Submission -->
                    <div class="flex justify-end pt-4">
                        <button type="button" onclick="showPage('page-home')" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Cancel
                        </button>
                        <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                            Submit Land Details
                        </button>
                    </div>
                </form>
            </div>

            <!-- PAGE: Contractor - Land List -->
            <div id="page-land-list" class="page">
                <button onclick="showPage('page-home')" class="mb-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                    &larr; Back to Home
                </button>
                <h1 class="text-3xl font-bold text-gray-900 mb-6">Available Land Holdings</h1>
                <div id="land-list-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Land cards will be injected here by JavaScript -->
                </div>
            </div>

            <!-- PAGE: Contractor - Land Details -->
            <div id="page-land-details" class="page">
                <button onclick="showPage('page-land-list')" class="mb-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                    &larr; Back to Land List
                </button>
                <div id="land-details-content" class="bg-white p-6 sm:p-8 rounded-lg shadow-lg">
                    <!-- Land details will be injected here by JavaScript -->
                </div>
            </div>

        </main>
    </div>

    <!-- MODALS -->

    <!-- Profile Modal -->
    <div id="modal-profile" class="modal fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-lg w-full relative" data-modal-content>
                <button data-modal-close="modal-profile" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="p-6">
                    <h3 class="text-xl font-medium text-gray-900 mb-4">User Profile</h3>
                    <div id="profile-modal-content" class="space-y-3">
                        <!-- Profile content will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="modal-invest" class="modal fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full relative" data-modal-content>
                <button data-modal-close="modal-invest" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="p-6">
                    <h3 class="text-xl font-medium text-gray-900 mb-4">Choose Your Investment</h3>
                    <p class="text-gray-600 mb-6">Select an investment tier for <span id="invest-project-name" class="font-bold"></span>.</p>
                    <div id="invest-options-content" class="space-y-4">
                        <!-- Investment options will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="modal-payment" class="modal fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-lg w-full relative" data-modal-content>
                <button data-modal-close="modal-payment" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="p-6">
                    <h3 class="text-xl font-medium text-gray-900 mb-4">Secure Payment Portal</h3>
                    <form id="payment-form" class="space-y-4">
                        <input type="hidden" id="payment-amount" name="amount">
                        <p class="text-lg">Investing: <span id="payment-amount-display" class="font-bold text-green-600"></span></p>
                        <div>
                            <label for="pay-name" class="block text-sm font-medium text-gray-700">Name on Card</label>
                            <input type="text" id="pay-name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Jane M. Doe">
                        </div>
                        <div>
                            <label for="pay-card" class="block text-sm font-medium text-gray-700">Card Number</label>
                            <input type="text" id="pay-card" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="0000 0000 0000 0000">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="pay-expiry" class="block text-sm font-medium text-gray-700">Expiry (MM/YY)</label>
                                <input type="text" id="pay-expiry" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="12/28">
                            </div>
                             <div>
                                <label for="pay-cvv" class="block text-sm font-medium text-gray-700">CVV</label>
                                <input type="text" id="pay-cvv" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="123">
                            </div>
                        </div>
                        <div class="pt-4">
                            <button type="submit" class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                Pay Now
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Email Proposal Modal -->
    <div id="modal-email" class="modal fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full relative" data-modal-content>
                <button data-modal-close="modal-email" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="p-6">
                    <h3 class="text-xl font-medium text-gray-900 mb-4">Send Proposal to Land Owner</h3>
                    <form id="email-proposal-form" class="space-y-4">
                        <div>
                            <label for="email-to" class="block text-sm font-medium text-gray-700">To</label>
                            <input type="email" id="email-to" name="to" readonly class="mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 sm:text-sm">
                        </div>
                        <div>
                            <label for="email-subject" class="block text-sm font-medium text-gray-700">Subject</label>
                            <input type="text" id="email-subject" name="subject" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Proposal for your land at...">
                        </div>
                        <div>
                            <label for="email-message" class="block text-sm font-medium text-gray-700">Message</label>
                            <textarea id="email-message" name="message" rows="6" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Dear Land Owner,&#10;&#10;We are interested in discussing a partnership..."></textarea>
                        </div>
                        <div class="pt-4 flex justify-end">
                            <button type="button" data-modal-close="modal-email" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                Cancel
                            </button>
                            <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                                Send Proposal
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Generic Message Modal (Replaces alert()) -->
    <div id="modal-message" class="modal fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-sm w-full relative" data-modal-content>
                <div class="p-6 text-center">
                    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
                        <svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                    </div>
                    <h3 class="text-lg font-medium text-gray-900 mb-2">Notice</h3>
                    <p id="message-text" class="text-sm text-gray-600 mb-6">Message goes here.</p>
                    <button data-modal-close="modal-message" class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        OK
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // --- MOCK DATA ---
        
        // Mock profile data (simulating a login)
        const mockProfile = {
            fullName: "Jane M. Doe",
            email: "jane.doe@example.com",
            phone: "+91 98765 43210",
            userType: "Investor", // Could be Investor, LandOwner, Contractor
            memberSince: "Jan 15, 2023"
        };

        // Mock construction companies for the Land Owner form
        const mockCompanies = [
            { id: "c1", name: "Prestige Group" },
            { id: "c2", name: "Sobha Ltd." },
            { id: "c3", name: "L&T Realty" },
            { id: "c4", name: "Godrej Properties" },
            { id: "c5", name: "DLF" },
            { id: "c6", name: "Omaxe Ltd." },
            { id: "c7", name: "Brigade Group" }
        ];

        // **** ADDED MORE PROJECTS HERE ****
        // Mock project data for Investors
        const mockProjects = [
            {
                id: "p1",
                title: "Azure Heights",
                location: "Mumbai, Maharashtra",
                company: "Prestige Group",
                imageUrl: "https://placehold.co/600x400/3B82F6/FFFFFF?text=Azure+Heights",
                description: "A state-of-the-art residential complex featuring smart homes, sustainable design, and luxury amenities. Located in the heart of the city.",
                timeline: "2023-Q1: Foundation Laid. 2023-Q4: Superstructure Complete. 2024-Q3: Interiors & Finishing. 2025-Q1: Handover.",
                budget: "₹500 Cr",
                completionDate: "Q1 2025",
                prospects: "High rental yield expected due to prime location and premium facilities. 20% appreciation projected in 3 years.",
                investmentOptions: [
                    { amount: 500000, label: "₹5,00,000", description: "Bronze Tier - 0.5% Equity Share" },
                    { amount: 1000000, label: "₹10,00,000", description: "Silver Tier - 1.1% Equity Share" },
                    { amount: 2500000, label: "₹25,00,000", description: "Gold Tier - 3.0% Equity Share & Priority Access" }
                ]
            },
            {
                id: "p2",
                title: "Cyber Green Tech Park",
                location: "Bengaluru, Karnataka",
                company: "L&T Realty",
                imageUrl: "https://placehold.co/600x400/10B981/FFFFFF?text=Cyber+Green",
                description: "A sprawling 50-acre IT park with LEED Platinum certification. Designed to host 20,000 professionals.",
                timeline: "2023-Q2: Land Acquisition. 2024-Q1: Phase 1 Construction Start. 2025-Q2: Phase 1 Operational.",
                budget: "₹1200 Cr",
                completionDate: "Q2 2025 (Phase 1)",
                prospects: "Long-term leases with major tech corporations. Stable, high-value returns. Government infrastructure support.",
                investmentOptions: [
                    { amount: 2000000, label: "₹20,00,000", description: "Unit A - 500 sq.ft. Virtual Office Space" },
                    { amount: 5000000, label: "₹50,00,000", description: "Unit B - 1200 sq.ft. Virtual Office Space" },
                    { amount: 10000000, label: "₹1 Cr", description: "Unit C - 2500 sq.ft. Virtual Office Space" }
                ]
            },
            {
                id: "p3",
                title: "Marina Bay Mall",
                location: "Chennai, Tamil Nadu",
                company: "Sobha Ltd.",
                imageUrl: "https://placehold.co/600x400/F59E0B/FFFFFF?text=Marina+Bay+Mall",
                description: "The city's largest upcoming retail and entertainment destination, featuring an IMAX theater, international brands, and a food court.",
                timeline: "2023-Q3: Excavation. 2024-Q4: Main Structure. 2025-Q3: Tenant Fit-outs. 2025-Q4: Grand Opening.",
                budget: "₹850 Cr",
                completionDate: "Q4 2025",
                prospects: "High footfall anticipated. Revenue from retail rentals and entertainment. Strong consumer market.",
                investmentOptions: [
                    { amount: 1500000, label: "₹15,00,000", description: "Retail Bond - 9% p.a. return" },
                    { amount: 3000000, label: "₹30,00,000", description: "Food Court Slot - Revenue Share" },
                    { amount: 7500000, label: "₹75,00,000", description: "Anchor Store Bond - 11% p.a. return" }
                ]
            },
            {
                id: "p4",
                title: "Jaipur Heritage Hotel",
                location: "Jaipur, Rajasthan",
                company: "Godrej Properties",
                imageUrl: "https://placehold.co/600x400/EC4899/FFFFFF?text=Heritage+Hotel",
                description: "Restoration and conversion of a 19th-century palace into a 5-star heritage hotel. Blending royal history with modern luxury.",
                timeline: "2023-Q4: Structural Assessment. 2024-Q2: Restoration Work. 2025-Q3: Interior Design. 2026-Q1: Launch.",
                budget: "₹300 Cr",
                completionDate: "Q1 2026",
                prospects: "High-demand tourist destination. Premium room rates. Unique market positioning.",
                investmentOptions: [
                    { amount: 2000000, label: "₹20,00,000", description: "Heritage Bond - 10% p.a. return" },
                    { amount: 5000000, label: "₹50,00,000", description: "Suite Partnership - 1.5% Profit Share" }
                ]
            },
            {
                id: "p5",
                title: "Kochi Logistics Hub",
                location: "Kochi, Kerala",
                company: "DLF",
                imageUrl: "https://placehold.co/600x400/8B5CF6/FFFFFF?text=Logistics+Hub",
                description: "A 100-acre integrated logistics and warehousing park near the port, catering to e-commerce and international trade.",
                timeline: "2024-Q1: Groundbreaking. 2024-Q4: Warehouse Shell 1. 2025-Q2: Full Park Infrastructure. 2025-Q3: Phase 1 Operational.",
                budget: "₹700 Cr",
                completionDate: "Q3 2025 (Phase 1)",
                prospects: "Strategic location near major sea routes. Growing e-commerce demand for warehousing. Long-term corporate leases.",
                investmentOptions: [
                    { amount: 2500000, label: "₹25,00,000", description: "Warehouse Unit (1000 sq.ft.)" },
                    { amount: 5000000, label: "₹50,00,000", description: "Cold Storage Unit (1000 sq.ft.)" },
                    { amount: 10000000, label: "₹1 Cr", description: "Logistics Infrastructure Bond - 12% p.a." }
                ]
            },
            {
                id: "p6",
                title: "Solara Power Plant",
                location: "Anantapur, Andhra Pradesh",
                company: "L&T Realty",
                imageUrl: "https://placehold.co/600x400/F97316/FFFFFF?text=Solara+Power",
                description: "A 250 MW solar power project aimed at providing clean energy to the state grid. Utilizes next-gen photovoltaic panels.",
                timeline: "2024-Q1: PPA Agreement. 2024-Q3: Panel Installation. 2025-Q1: Grid Connection. 2025-Q2: Commercial Operation.",
                budget: "₹1100 Cr",
                completionDate: "Q2 2025",
                prospects: "25-year Power Purchase Agreement (PPA) with state government. Stable, predictable returns. Green energy tax benefits.",
                investmentOptions: [
                    { amount: 1000000, label: "₹10,00,000", description: "Green Energy Bond - 8.5% p.a. (Tax-Free)" },
                    { amount: 5000000, label: "₹50,00,000", description: "Solar Panel Block (100 kW) - Revenue Share" }
                ]
            }
        ];

        // **** ADDED MORE LAND HOLDINGS HERE ****
        // Mock land data for Contractors (this would normally come from landowner submissions)
        const mockLandHoldings = [
            {
                id: "l1",
                ownerName: "Rohan Gupta",
                email: "rohan.gupta@example.com",
                phone: "+91 98765 11111",
                location: "Whitefield, Bengaluru, Karnataka",
                landSize: "2 Acres",
                rera: "PRM/KA/RERA/1251/310/AG/171010/000123",
                landImages: [
                    "https://placehold.co/600x400/4CAF50/FFFFFF?text=Land+Plot+1",
                    "https://placehold.co/600x400/8BC34A/FFFFFF?text=Land+Plot+2"
                ],
                landDocuments: ["Document1.pdf", "Document2.pdf"],
                dob: "1980-05-15",
                aadhaar: "XXXX XXXX 1234",
                pan: "ABCDE1234F"
            },
            {
                id: "l2",
                ownerName: "Priya Sharma",
                email: "priya.sharma@example.com",
                phone: "+91 98765 22222",
                location: "Hinjewadi, Pune, Maharashtra",
                landSize: "5 Acres",
                rera: "N/A",
                landImages: [
                    "https://placehold.co/600x400/4CAF50/FFFFFF?text=Land+Plot+A",
                ],
                landDocuments: ["SaleDeed.pdf"],
                dob: "1992-11-30",
                aadhaar: "XXXX XXXX 5678",
                pan: "GHIJK5678L"
            },
            {
                id: "l3",
                ownerName: "Arjun Reddy",
                email: "arjun.reddy@example.com",
                phone: "+91 98765 33333",
                location: "Gachibowli, Hyderabad, Telangana",
                landSize: "1.5 Acres",
                rera: "P02400000123",
                landImages: [
                    "https://placehold.co/600x400/4CAF50/FFFFFF?text=Hyderabad+Plot"
                ],
                landDocuments: ["Patta.pdf", "EC.pdf"],
                dob: "1975-02-20",
                aadhaar: "XXXX XXXX 9012",
                pan: "MNO P9012Q"
            },
            {
                id: "l4",
                ownerName: "Meera Krishnan",
                email: "meera.k@example.com",
                phone: "+91 98765 44444",
                location: "OMR, Chennai, Tamil Nadu",
                landSize: "3 Acres",
                rera: "N/A (Agricultural)",
                landImages: [
                    "https://placehold.co/600x400/8BC34A/FFFFFF?text=OMR+Land+1",
                    "https://placehold.co/600x400/4CAF50/FFFFFF?text=OMR+Land+2"
                ],
                landDocuments: ["ParentDoc.pdf"],
                dob: "1988-09-10",
                aadhaar: "XXXX XXXX 3456",
                pan: "RSTUV3456W"
            },
            {
                id: "l5",
                ownerName: "S. K. Singh",
                email: "sk.singh@example.com",
                phone: "+91 98765 55555",
                location: "New Town, Kolkata, West Bengal",
                landSize: "20,000 sq. ft.",
                rera: "WBRERA/P/KOL/2023/000456",
                landImages: [
                    "https://placehold.co/600x400/4CAF50/FFFFFF?text=Kolkata+Plot"
                ],
                landDocuments: ["Mutation.pdf", "TaxReceipt.pdf"],
                dob: "1969-12-01",
                aadhaar: "XXXX XXXX 7890",
                pan: "XYZAB7890C"
            }
        ];

        // --- GLOBAL STATE ---
        let activeProject = null;
        let activeLand = null;

        // --- NAVIGATION ---
        
        /**
         * Shows a page by ID and hides all others
         * @param {string} pageId - The ID of the page element to show
         */
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            const newPage = document.getElementById(pageId);
            if (newPage) {
                newPage.classList.add('active');
                window.scrollTo(0, 0); // Scroll to top on page change
            }
        }

        // --- MODAL CONTROLS ---

        /**
         * Shows a modal by ID
         * @param {string} modalId - The ID of the modal element to show
         */
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('hidden');
            }
        }

        /**
         * Hides a modal by ID
         * @param {string} modalId - The ID of the modal element to hide
         */
        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('hidden');
            }
        }

        /**
         * Shows a generic message to the user
         * @param {string} message - The message to display
         */
        function showMessage(message) {
            document.getElementById('message-text').textContent = message;
            showModal('modal-message');
        }

        // --- DYNAMIC CONTENT POPULATION ---

        /**
         * Populates the investor projects list
         */
        function populateProjectsList() {
            const container = document.getElementById('projects-list-content');
            container.innerHTML = '';
            mockProjects.forEach(project => {
                container.innerHTML += `
                    <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow" onclick="showProjectDetails('${project.id}')">
                        <img class="w-full h-48 object-cover" src="${project.imageUrl}" alt="${project.title}">
                        <div class="p-4">
                            <h3 class="text-xl font-bold text-gray-900 mb-1">${project.title}</h3>
                            <p class="text-sm text-gray-600 mb-2">${project.location}</p>
                            <p class="text-sm text-gray-700">${project.description.substring(0, 80)}...</p>
                            <div class="text-right mt-4">
                                <span class="text-blue-600 font-semibold">View Details &rarr;</span>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        /**
         * Shows detailed view for a single project
         * @param {string} projectId - The ID of the project to show
         */
        function showProjectDetails(projectId) {
            activeProject = mockProjects.find(p => p.id === projectId);
            if (!activeProject) return;

            const container = document.getElementById('project-details-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Left Column (Image & Visuals) -->
                    <div>
                        <img class="w-full h-auto rounded-lg shadow-lg mb-4" src="${activeProject.imageUrl.replace('600x400', '800x600')}" alt="${activeProject.title}">
                         <h2 class="text-2xl font-bold text-gray-900 mb-2">${activeProject.title}</h2>
                        <p class="text-lg text-gray-600 mb-1">${activeProject.location}</p>
                        <p class="text-sm text-gray-500">by ${activeProject.company}</p>
                    </div>

                    <!-- Right Column (Details & Invest Button) -->
                    <div>
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-3">About Project</h3>
                            <p class="text-gray-700">${activeProject.description}</p>
                        </div>
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-3">Timeline</h3>
                            <p class="text-gray-700 whitespace-pre-line">${activeProject.timeline}</p>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-800">Budget</h3>
                                <p class="text-2xl font-bold text-green-600">${activeProject.budget}</p>
                            </div>
                             <div>
                                <h3 class="text-lg font-semibold text-gray-800">Est. Completion</h3>
                                <p class="text-2xl font-bold text-red-600">${activeProject.completionDate}</p>
                            </div>
                        </div>
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-3">Future Prospects</h3>
                            <p class="text-gray-700">${activeProject.prospects}</p>
                        </div>
                        <button onclick="showInvestModal()" class="w-full inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-lg font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Invest Now
                        </button>
                    </div>
                </div>
            `;
            showPage('page-project-details');
        }

        /**
         * Populates the contractor land list
         */
        function populateLandList() {
            const container = document.getElementById('land-list-content');
            container.innerHTML = '';
            mockLandHoldings.forEach(land => {
                container.innerHTML += `
                    <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow" onclick="showLandDetails('${land.id}')">
                        <img class="w-full h-48 object-cover" src="${land.landImages[0]}" alt="Land at ${land.location}">
                        <div class="p-4">
                            <h3 class="text-xl font-bold text-gray-900 mb-1">${land.landSize} Plot</h3>
                            <p class="text-sm text-gray-600 mb-2">${land.location}</p>
                            <p class="text-sm text-gray-700">Owner: ${land.ownerName}</p>
                            <div class="text-right mt-4">
                                <span class="text-yellow-600 font-semibold">View Details &rarr;</span>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        /**
         * Shows detailed view for a single land plot
         * @param {string} landId - The ID of the land to show
         */
        function showLandDetails(landId) {
            activeLand = mockLandHoldings.find(l => l.id === landId);
            if (!activeLand) return;

            const container = document.getElementById('land-details-content');
            
            // Generate list of images
            const imagesHtml = activeLand.landImages.map(img => `<img src="${img}" alt="Land image" class="w-full h-auto rounded-lg shadow-md mb-2">`).join('');
            
            // Generate list of documents
            const documentsHtml = activeLand.landDocuments.map(doc => `<li class="text-blue-600 hover:underline">${doc}</li>`).join('');

            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Left Column (Land Details) -->
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">${activeLand.landSize} Plot at ${activeLand.location}</h2>
                        <p class="text-lg text-gray-600 mb-4">RERA: ${activeLand.rera}</p>
                        
                        <h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-3">Land Images</h3>
                        <div class="space-y-4 mb-6">
                            ${imagesHtml}
                        </div>
                        
                        <h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-3">Land Documents</h3>
                        <ul class="list-disc list-inside space-y-1 text-gray-700">
                           ${documentsHtml}
                        </ul>
                    </div>

                    <!-- Right Column (Owner Details & Action) -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Owner Details</h2>
                        <div class="space-y-3">
                            <div>
                                <h3 class="text-sm font-medium text-gray-500">Name</h3>
                                <p class="text-lg text-gray-900">${activeLand.ownerName}</p>
                            </div>
                             <div>
                                <h3 class="text-sm font-medium text-gray-500">Email</h3>
                                <p class="text-lg text-gray-900">${activeLand.email}</p>
                            </div>
                             <div>
                                <h3 class="text-sm font-medium text-gray-500">Phone</h3>
                                <p class="text-lg text-gray-900">${activeLand.phone}</p>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium text-gray-500">Aadhaar (Masked)</h3>
                                <p class="text-lg text-gray-900">${activeLand.aadhaar}</p>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium text-gray-500">PAN (Masked)</h3>
                                <p class="text-lg text-gray-900">${activeLand.pan}</p>
                            </div>
                        </div>
                        
                        <button onclick="showEmailModal()" class="mt-8 w-full inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-lg font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                            Send Proposal to Owner
                        </button>
                    </div>
                </div>
            `;
            showPage('page-land-details');
        }

        /**
         * Populates the landowner form with construction company options
         */
        function populatePartnerOptions() {
            const container = document.getElementById('partner-options-list');
            container.innerHTML = '';
            mockCompanies.forEach(company => {
                container.innerHTML += `
                    <div class="flex items-center">
                        <input id="company-${company.id}" name="partners" type="checkbox" value="${company.id}" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        <label for="company-${company.id}" class="ml-3 text-sm text-gray-700">${company.name}</label>
                    </div>
                `;
            });
        }
        
        /**
         * Populates the profile modal
         */
        function populateProfileModal() {
             const container = document.getElementById('profile-modal-content');
             document.getElementById('profile-name-short').textContent = mockProfile.fullName;
             container.innerHTML = `
                <div>
                    <h3 class="text-sm font-medium text-gray-500">Full Name</h3>
                    <p class="text-lg text-gray-900">${mockProfile.fullName}</p>
                </div>
                 <div>
                    <h3 class="text-sm font-medium text-gray-500">Email</h3>
                    <p class="text-lg text-gray-900">${mockProfile.email}</p>
                </div>
                 <div>
                    <h3 class="text-sm font-medium text-gray-500">Phone</h3>
                    <p class="text-lg text-gray-900">${mockProfile.phone}</p>
                </div>
                <div>
                    <h3 class="text-sm font-medium text-gray-500">User Type</h3>
                    <p class="text-lg text-gray-900">${mockProfile.userType}</p>
                </div>
                <div>
                    <h3 class="text-sm font-medium text-gray-500">Member Since</h3>
                    <p class="text-lg text-gray-900">${mockProfile.memberSince}</p>
                </div>
             `;
        }

        // --- INTERACTIVE MODAL TRIGGERS ---

        /**
         * Shows the investment modal for the active project
         */
        function showInvestModal() {
            if (!activeProject) return;
            
            document.getElementById('invest-project-name').textContent = activeProject.title;
            const container = document.getElementById('invest-options-content');
            container.innerHTML = '';
            
            activeProject.investmentOptions.forEach(option => {
                container.innerHTML += `
                    <button onclick="showPaymentModal(${option.amount}, '${option.label}')" class="w-full text-left p-4 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all">
                        <span class="text-xl font-bold text-blue-600">${option.label}</span>
                        <p class="text-gray-700">${option.description}</p>
                    </button>
                `;
            });
            showModal('modal-invest');
        }

        /**
         * Shows the payment modal with the selected amount
         * @param {number} amount - The monetary value
         * @param {string} amountLabel - The text label for the amount (e.g., "₹5,00,000")
         */
        function showPaymentModal(amount, amountLabel) {
            document.getElementById('payment-amount').value = amount;
            document.getElementById('payment-amount-display').textContent = amountLabel;
            hideModal('modal-invest');
            showModal('modal-payment');
        }

        /**
         * Shows the email proposal modal, pre-filled with the owner's email
         */
        function showEmailModal() {
            if (!activeLand) return;
            document.getElementById('email-to').value = activeLand.email;
            showModal('modal-email');
        }

        // --- FORM HANDLERS ---
        
        /**
         * Handles submission of the land owner form
         */
        function handleLandOwnerSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            data.partners = formData.getAll('partners');
            data.landImages = Array.from(formData.get('land-images').files).map(f => f.name);
            data.landDocuments = Array.from(formData.get('land-documents').files).map(f => f.name);
            
            console.log("Land Owner Form Submitted:", data);
            
            // In a real app, you'd send this to a server.
            // We'll just show a success message.
            showMessage("Your land details have been submitted successfully! Contractors can now view your listing.");
            event.target.reset();
            showPage('page-home');
        }
        
        /**
         * Handles submission of the payment form
         */
        function handlePaymentSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const amount = formData.get('amount');
            
            console.log(`Processing payment of ${amount}...`);
            
            // Simulate payment processing
            showMessage("Payment Successful! Thank you for your investment in " + activeProject.title + ".");
            event.target.reset();
            hideModal('modal-payment');
            showPage('page-projects-list');
        }
        
        /**
         * Handles submission of the email proposal form
         */
        function handleEmailProposalSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            
            console.log("Sending proposal:", data);
            
            // Simulate sending email
            showMessage(`Your proposal has been sent to ${data.to}.`);
            event.target.reset();
            hideModal('modal-email');
        }

        // --- INITIALIZATION ---
        
        document.addEventListener('DOMContentLoaded', () => {
            // Populate dynamic content
            populateProjectsList();
            populateLandList();
            populatePartnerOptions();
            populateProfileModal();
            
            // --- Global Event Listeners ---
            
            // Profile button listener
            document.getElementById('profile-button').addEventListener('click', () => {
                showModal('modal-profile');
            });
            
            // Modal close listeners
            document.querySelectorAll('[data-modal-close]').forEach(button => {
                button.addEventListener('click', () => {
                    hideModal(button.dataset.modalClose);
                });
            });
            
            // Close modal on overlay click
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (event) => {
                    if (event.target === modal) {
                        hideModal(modal.id);
                    }
                });
            });

            // Form submit listeners
            document.getElementById('land-owner-form').addEventListener('submit', handleLandOwnerSubmit);
            document.getElementById('payment-form').addEventListener('submit', handlePaymentSubmit);
            document.getElementById('email-proposal-form').addEventListener('submit', handleEmailProposalSubmit);
            
            // Start on the home page
            showPage('page-home');
        });
    </script>
</body>
</html>
